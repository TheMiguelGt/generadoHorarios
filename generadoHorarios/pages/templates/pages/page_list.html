{% extends 'core/loPage.html' %}<!--este script te manda todas las paginas que se han creado con un breve resumen-->
{% load static %}
{% block title %}Horarios{% endblock title %} 
{% block content %}
{% include "pages/includes/pages_menu.html" %}
<div class="listCont">
    <table class="listTable">
        <tr class="border_bottom">
            <th ><p>ID Materia</p></th>
            <th ><p>Nombre de la Materia</p></th>
            <th ><p>ID Maestro</p></th>
            <th ><p>Nombre del Docente</p></th>
            <th ><p>Acci&oacute;n</p></th>
        </tr>
        {% for page in page_list|dictsort:"id" reversed%}<!--se cambio la parte de pages por la lista de los objetos, dictsort los posiciona por id y reversed de manera de reversa-->
        <tr class="border_bottom">
            <td ><p></p></td>
            <td ><p>{{page.title}}</p></td>
            <td ><p></p></td>
            <td ><p>{{page.content|striptags|safe|truncatechars:"10"}}</p></td>
            <td >
                <table class="btnTable">
                    <td><a class="btn1" href="{% url 'pages:page' page.id page.title|slugify %}"><i class="fa-sharp fa-solid fa-circle-info"></i></a></td>
                    {% if request.user.is_staff %}<!--Condicion por si el usuario esta registrado o es un super usuario-->
                        <td><a class="btn2" href="{% url 'pages:update' page.id %}"><i class="fa-sharp fa-solid fa-pen"></i></a></td>
                        <td><a class="btn3" href="{% url 'pages:delete' page.id %}"><i class="fa-solid fa-trash"></i></a></td>
                    {% endif %}
                </table>
            </td>
        </tr>
        {% endfor %}
    </table>

</div>
{% endblock content %}